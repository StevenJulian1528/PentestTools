import subprocess

# Open file containing list of website URLs
with open('list.txt', 'r') as file:
    websites = file.read().splitlines()

# Loop through websites and use nslookup to obtain IP address
result = []
for website in websites:
    # Remove http:// or https:// from the URL if present
    if website.startswith("http://"):
        website = website[7:]
    elif website.startswith("https://"):
        website = website[8:]

    try:
        # Use nslookup to obtain IP address
        output = subprocess.check_output(["nslookup", website])
        ip_address = output.decode("utf-8").split("Address: ")[-1].strip()
        result.append(f"{website} | {ip_address}")
    except subprocess.CalledProcessError:
        result.append(f"{website} | Cannot find IP address")

# Save results to file
with open('hasil_nslookup.txt', 'w') as file:
    for line in result:
        file.write(line + '\n')
